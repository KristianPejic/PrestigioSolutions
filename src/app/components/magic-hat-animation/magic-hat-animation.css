:host {
  display: contents;
}

/* Logo images */
.logo-image-final,
.logo-image-flying {
  height: 60px;
  width: auto;
  display: block;
  filter: drop-shadow(0 0 20px rgba(135, 206, 235, 0.6));
}

.logo-image-final {
  transition: transform 0.3s ease, filter 0.3s ease;
}

.logo-image-final:hover {
  transform: scale(1.05);
  filter: drop-shadow(0 0 30px rgba(135, 206, 235, 0.8));
}

/* Logo in corner (final position) */
.logo-final {
  position: fixed;
  top: 2rem;
  left: 2rem;
  z-index: 300;
  animation: bounceIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  cursor: pointer;
  filter: drop-shadow(0 0 20px rgba(135, 206, 235, 0.6));
}

.logo-final:hover {
  filter: drop-shadow(0 0 30px rgba(135, 206, 235, 0.8));
}

/* Flying logo - from BOTTOM-RIGHT to TOP-LEFT */
.logo-flying {
  position: fixed;
  right: 2rem;
  bottom: 2rem;
  z-index: 250;
  animation: flyFromBottomRightToTopLeft 1.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  filter: drop-shadow(0 0 25px rgba(135, 206, 235, 0.9));
  pointer-events: none;
}

/* Magic Hat - positioned in BOTTOM-RIGHT corner */
.magic-hat {
  position: fixed;
  right: 2rem;
  bottom: 2rem;
  z-index: 200;
  transition: all 1s cubic-bezier(0.34, 1.56, 0.64, 1);
  filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.5));
  pointer-events: none;
}

.magic-hat.hat-rotated {
  /* Rotates to aim at TOP-LEFT from BOTTOM-RIGHT position */
  transform: rotate(-135deg) scale(1.1);
}

.magic-hat svg {
  display: block;
}

/* Cannon smoke - comes from the TOP of the hat (where opening is) */
.cannon-smoke {
  position: absolute;
  top: -1rem;
  left: 50%;
  transform: translateX(-50%);
  width: 3rem;
  height: 3rem;
  background: #87CEEB;
  border-radius: 50%;
  opacity: 0.3;
  filter: blur(20px);
  animation: smokeOut 1.4s ease-out forwards;
  pointer-events: none;
}

/* Sparkles */
.sparkle {
  animation: sparkleFlash 0.8s ease-in-out infinite;
}

.sparkle-1 {
  animation-delay: 0s;
}

.sparkle-2 {
  animation-delay: 0.3s;
}

.sparkle-3 {
  animation-delay: 0.6s;
}

/* ============================================
   KEYFRAME ANIMATIONS
   ============================================ */

/* Logo flies from BOTTOM-RIGHT to TOP-LEFT corner - SLOWER */
@keyframes flyFromBottomRightToTopLeft {
  0% {
    right: 2rem;
    bottom: 2rem;
    transform: rotate(0deg) scale(1);
    opacity: 1;
  }
  50% {
    transform: rotate(-180deg) scale(1.5);
  }
  100% {
    left: 2rem;
    top: 2rem;
    right: auto;
    bottom: auto;
    transform: rotate(-360deg) scale(1);
    opacity: 1;
  }
}

/* Logo bounces when landing - SLOWER */
@keyframes bounceIn {
  0% {
    transform: scale(1.5) rotate(-10deg);
    opacity: 0.5;
  }
  50% {
    transform: scale(0.9) rotate(5deg);
  }
  100% {
    transform: scale(1) rotate(0deg);
    opacity: 1;
  }
}

/* Cannon smoke disperses - SLOWER */
@keyframes smokeOut {
  0% {
    opacity: 0.5;
    transform: translateX(-50%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(-50%) scale(2.5);
  }
}

/* Sparkles flash on hat - SLOWER */
@keyframes sparkleFlash {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.5);
  }
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */

@media (max-width: 1024px) {
  .logo-final {
    top: 1.75rem;
    left: 1.75rem;
  }

  .logo-image-final {
    height: 50px;
  }

  .logo-image-flying {
    height: 45px;
  }

  .magic-hat {
    right: 1.75rem;
    bottom: 1.75rem;
  }

  @keyframes flyFromBottomRightToTopLeft {
    0% {
      right: 1.75rem;
      bottom: 1.75rem;
    }
    100% {
      left: 1.75rem;
      top: 1.75rem;
      right: auto;
      bottom: auto;
    }
  }
}

@media (max-width: 768px) {
  .logo-final {
    top: 1.5rem;
    left: 1.5rem;
  }

  .logo-image-final {
    height: 50px;
  }

  .logo-image-flying {
    height: 45px;
  }

  .magic-hat {
    right: 1.5rem;
    bottom: 1.5rem;
  }

  .magic-hat svg {
    width: 90px;
    height: 90px;
  }

  @keyframes flyFromBottomRightToTopLeft {
    0% {
      right: 1.5rem;
      bottom: 1.5rem;
    }
    100% {
      left: 1.5rem;
      top: 1.5rem;
      right: auto;
      bottom: auto;
    }
  }
}

@media (max-width: 480px) {
  .logo-final {
    top: 1rem;
    left: 1rem;
  }

  .logo-image-final {
    height: 44px;
  }

  .logo-image-flying {
    height: 40px;
  }

  .magic-hat {
    right: 1rem;
    bottom: 1rem;
  }

  .magic-hat svg {
    width: 70px;
    height: 70px;
  }

  .cannon-smoke {
    width: 2rem;
    height: 2rem;
  }

  @keyframes flyFromBottomRightToTopLeft {
    0% {
      right: 1rem;
      bottom: 1rem;
    }
    100% {
      left: 1rem;
      top: 1rem;
      right: auto;
      bottom: auto;
    }
  }
}

/* ============================================
   ACCESSIBILITY - REDUCED MOTION
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  .logo-final,
  .logo-flying,
  .magic-hat,
  .cannon-smoke,
  .sparkle {
    animation: none !important;
    transition: none !important;
  }

  .logo-final {
    opacity: 1;
    transform: scale(1);
  }

  .logo-flying {
    display: none;
  }

  .magic-hat {
    display: none;
  }
}

/* ============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================ */

.logo-final,
.logo-flying,
.magic-hat {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform-style: preserve-3d;
}

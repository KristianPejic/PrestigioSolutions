<!-- Diagonal Mask Animation Overlay -->
<ng-container *ngIf="showMask">
  <div class="mask-animation-container">
    <div class="diagonal-mask"
         [class]="getMaskClasses()"
         [style.background]="maskBackground"
         [style.transition-duration]="animationDuration + 'ms'">
    </div>

    <!-- Optional loading indicator -->
    <div class="loading-indicator" *ngIf="showLoadingIndicator && isCovering && !isUncovering">
      <div class="spinner"></div>
      <p class="loading-text">{{ loadingText }}</p>
    </div>
  </div>
</ng-container>

<!-- Navbar Container -->
<nav class="navbar-wrapper" [class.visible]="showNavbar">
  <div class="navbar-content">
    <!-- Hamburger Button -->
    <button
      class="hamburger-btn"
      [class.active]="isMenuOpen"
      [class.animating]="isAnimating"
      (click)="toggleMenu()"
      type="button"
      aria-label="Toggle navigation menu"
      [disabled]="isAnimating || isButtonDisabled">
      <span class="line line1"></span>
      <span class="line line2"></span>
      <span class="line line3"></span>
    </button>
  </div>
</nav>

<!-- Full Screen Menu -->
<div class="fullscreen-menu"
     [class.active]="isMenuOpen"
     [class.animating]="isAnimating"
     (click)="closeMenu()">
  <div class="menu-inner" (click)="$event.stopPropagation()">

    <!-- BIG CLOSE X -->
    <button class="close-btn"
            (click)="closeMenu()"
            [disabled]="isAnimating || isButtonDisabled"
            aria-label="Close menu">âœ•</button>

    <nav class="menu-nav">
      <a
        *ngFor="let link of menuLinks; let i = index"
        href="#"
        class="menu-item"
        [style.--delay]="i"
        [class.disabled]="isAnimating || isButtonDisabled"
        (click)="handleMenuClick(link, $event)">
        <span class="menu-number">{{ (i + 1).toString().padStart(2, '0') }}</span>
        <span class="menu-text">{{ link.name }}</span>
      </a>
    </nav>
  </div>
</div>
